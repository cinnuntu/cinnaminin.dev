<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/social.css">
  <title>Cinnaminin.dev - Social</title>
</head>
<body>
<div class="dashboard">
  <div class="header">
    <a href="index.html" class="header-link">Home</a>
    <a href="projects.html" class="header-link">Projects</a>
    <a href="social.html" class="header-link">Social</a>
    <a href="#" class="header-link">Credits</a>
  </div>

  <div class="social-container">
    <h2>Find Me On:</h2>

    <!-- Modrinth Profile -->
    <a href="https://modrinth.com/user/Cinnaminin" class="social-profile-link">
      <div class="social-profile modrinth">
        <div class="profile-header">
          <img src="assets/modrinth_pfp.png" alt="Modrinth Profile Picture" class="modrinth-pfp">
          <div class="profile-info">
            <h3 class="modrinth-profilename">Cinnaminin</h3>
            <p class="profile-bio" id="modrinth-bio">Loading bio...</p>
            <div class="profile-stats">
              <div class="stat">
                <img src="assets/modrimth/default_icon.png" alt="Projects Icon" class="stat-icon">
                <span id="modrinth-projects">Loading projects...</span>
              </div>
              <div class="stat">
                <img src="assets/modrimth/download_icon.png" alt="Downloads Icon" class="stat-icon">
                <span id="modrinth-downloads">Loading downloads...</span>
              </div>
              <div class="stat">
                <img src="assets/modrimth/calender.png" alt="Joined Icon" class="stat-icon">
                <span id="modrinth-joined">Loading join date...</span>
              </div>
            </div>
          </div>
          <!-- Website Logo Icon (e.g., a logo for Modrinth) -->
          <img src="assets/modrimth/modrinth_icon.png" alt="Modrinth Logo" class="website-logo">
        </div>
      </div>
    </a>

    <!-- YouTube Profile -->
    <a href="https://youtube.com/@cinnamininlol" class="social-profile-link">
      <div class="social-profile youtube">
        <div class="profile-header">
          <img src="assets/yt/youtube_pfp.jpg" alt="YouTube Profile Picture" class="youtube-pfp">
          <div class="profile-info">
            <h3 class="youtube-profilename">Cinnaminin</h3>
            <p class="profile-bio">@cinnamininlol • 37 Subscribers • 7 Videos</p>
            <div class="profile-stats">
              <div class="stat">
                <span>What do I put here? Oh things about me. Umm... I play games and make videos. And play...</span>
              </div>
            </div>
            <!-- YouTube Channel Link -->
            <div class="yt-link">
              <a href="https://youtube.com/channel/UCBw-42Ahba3ab187rSD50LA?sub_confirmation=1" target="_blank" class="yt-link-text">
                youtube.com/channel/UCBw-42Ahba3ab187rSD50LA?sub_confirmation=1
              </a>
            </div>
          </div>
          <!-- YouTube Logo Icon -->
          <img src="assets/yt/yt_icon.png" alt="YouTube Logo" class="website-logo">
        </div>
      </div>
    </a>

    <!-- Github Profile (Place it after YouTube profile) -->
    <a href="https://github.com/Cinnaminin" class="social-profile-link">
      <div class="social-profile github">
        <div class="profile-header">
          <img src="assets/github/github_pfp.png" alt="Github Profile Picture" class="github-pfp">
          <div class="profile-info">
            <h3 class="github-profilename">Cinnaminin</h3>
            <p class="profile-bio github"> cinnaminin</p>
            <div class="profile-stats">
              <div class="stat">
                <img src="assets/github/domain_icon.png" alt="Domain" class="stat-icon">
                <span>CinnamininStudios</span>
              </div>
              <div class="stat">
                <img src="assets/github/location_icon.png" alt="Location Icon" class="stat-icon">
                <span>My House?</span>
              </div>
              <div class="stat">
                <img src="assets/github/time_icon.png" alt="TimeZone Icon" class="stat-icon">
                <span id="timezone">Loading Time...</span>
              </div>
            </div>
          </div>
          <!-- Github Logo Icon -->
          <img src="assets/github/github_icon.png" alt="Github Logo" class="website-logo">
        </div>
      </div>
    </a>

  </div>
</div>

<script>
  // Function to get current time in your timezone (GMT-5)
  function getCurrentTimeInGMTMinus5() {
    const now = new Date();

    // Convert the time to GMT-5 (adjust based on the user's local timezone offset)
    const offset = -5 * 60; // GMT-5 offset in minutes
    now.setMinutes(now.getMinutes() + now.getTimezoneOffset() + offset);

    const hours = now.getHours().toString().padStart(2, '0');
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const time = `${hours}:${minutes}`;

    return time;
  }

  // Function to calculate the user's time zone difference from GMT-5
  function getUserTimeZoneDifference() {
    const userTimeZoneOffset = new Date().getTimezoneOffset() / 60; // User's time offset in hours
    const timeDifference = -5 - userTimeZoneOffset; // Difference between GMT-5 and the user's time zone
    return timeDifference;
  }

  // Fetch Modrinth profile data
  function fetchModrinthData() {
    fetch('https://api.modrinth.com/v2/user/Cinnaminin')
      .then(response => response.json())
      .then(data => {
        // Update the profile with live data
        document.getElementById('modrinth-bio').textContent = data.bio || 'No bio available';
        document.getElementById('modrinth-projects').textContent = `${data.projects_count} Projects`;
        document.getElementById('modrinth-downloads').textContent = `${data.downloads_count} Downloads`;
        document.getElementById('modrinth-joined').textContent = `Joined ${data.created_at.split('T')[0]}`;
      })
      .catch(() => {
        // Fallback data in case of error or failure to load
        document.getElementById('modrinth-bio').innerHTML = 'Hello! You can call me Cinnamon, I just make minecraft mods and really anything <br> minecraft related (Texture packs, mods, servers)';
        document.getElementById('modrinth-projects').textContent = '2 Projects';
        document.getElementById('modrinth-downloads').textContent = '52 Downloads';
        document.getElementById('modrinth-joined').textContent = 'Joined 7 months ago';
      });
  }

  window.onload = () => {
    fetchModrinthData();

    const userTimeZoneDifference = getUserTimeZoneDifference();
    const currentTimeInGMTMinus5 = getCurrentTimeInGMTMinus5();

    const timeDifferenceText = userTimeZoneDifference < 0
      ? `+${Math.abs(userTimeZoneDifference)}hr`
      : `${userTimeZoneDifference}hr`;

    // Set the text content for the timezone display
    document.getElementById('timezone').textContent = `${currentTimeInGMTMinus5} (${timeDifferenceText})`;
  };
</script>

</body>
</html>
